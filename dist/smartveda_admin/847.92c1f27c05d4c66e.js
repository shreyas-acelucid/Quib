"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[847],{6847:(Ie,b,a)=>{a.r(b),a.d(b,{QuibModule:()=>Ue});var d=a(9808),h=a(1083),p=a(8441),g=a(9783),e=a(5e3),f=a(9996),x=a(7650),T=a(7398),m=a(6697),Z=a(1424),v=a(845),Q=a(4119),C=a(9114);const w=["dt"];function q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",12),e._UZ(2,"i",13),e.TgZ(3,"input",14),e.NdJ("input",function(o){return e.CHM(t),e.oxw().applyFilterGlobal(o,"contains")}),e.qZA(),e.qZA(),e.qZA()}}function M(n,s){if(1&n&&(e.TgZ(0,"th",15),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.headers," ")}}function U(n,s){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"th",15),e._uU(2,"S.no"),e.qZA(),e.YNc(3,M,2,1,"th",16),e.TgZ(4,"th"),e._uU(5,"Action"),e.qZA(),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.Q6J("ngForOf",t)}}function R(n,s){if(1&n&&(e.TgZ(0,"button",22),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.isEnabled," ")}}function I(n,s){if(1&n&&(e.TgZ(0,"button",23),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.isEnabled," ")}}function N(n,s){if(1&n&&(e.TgZ(0,"button",22),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.isBumped," ")}}function D(n,s){1&n&&(e.TgZ(0,"button",24),e._uU(1," false "),e.qZA())}function F(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"div",17),e.YNc(17,R,2,1,"button",18),e.YNc(18,I,2,1,"button",19),e.qZA(),e.qZA(),e.TgZ(19,"td"),e.TgZ(20,"div",17),e.YNc(21,N,2,1,"button",18),e.YNc(22,D,2,0,"button",20),e.qZA(),e.qZA(),e.TgZ(23,"td"),e.TgZ(24,"div",17),e.TgZ(25,"button",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteQuib(null==r?null:r.id)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=s.rowIndex,i=s.$implicit;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(i.displayName),e.xp6(2),e.Oqu(i.movieId),e.xp6(2),e.Oqu(i.body),e.xp6(2),e.Oqu(i.time),e.xp6(2),e.Oqu(i.createdDate),e.xp6(2),e.Oqu(i.postedDate),e.xp6(3),e.Q6J("ngIf",!0===i.isEnabled),e.xp6(1),e.Q6J("ngIf",0==i.isEnabled||null),e.xp6(3),e.Q6J("ngIf",1==i.isBumped),e.xp6(1),e.Q6J("ngIf",0==i.isBumped||null==i.isBumped)}}function P(n,s){1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",25),e._uU(2," No Records Found. "),e.qZA(),e.qZA())}const L=function(){return[10,50,100]},J=function(){return["user","movies"]},O=function(){return{width:"40vw"}};let k=(()=>{class n{constructor(t,i,o,r,l){this.QuibService=t,this.ngxLoader=i,this.toastr=o,this.ActivatedRoute=r,this.confirmationService=l}ngOnInit(){this.sidebarSpacing="contracted",this.fgsType=p.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="expanded",this.ActivatedRoute.queryParams.subscribe(t=>{this.payload=t}),this.AdminQuibList(this.payload),this.cols=[{field:"user",show:!0,headers:"User"},{field:"movies",show:!0,headers:"Movies"},{field:"quib",show:!0,headers:"Quib"},{field:"time",show:!0,headers:"Time"},{field:"createdDate",show:!0,headers:"Created Date"},{field:"postedDate",show:!0,headers:"Posted Date"},{field:"isEnabled",show:!0,headers:"Is Enabled"},{field:"isBumped",show:!0,headers:"Is Bumped"}]}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}applyFilterGlobal(t,i){this.dt.filterGlobal(t.target.value,i)}AdminQuibList(t){this.QuibService.AdminQuibList(t).subscribe(i=>{this.Admin_Quib=i,this.ngxLoader.stop()})}deleteQuib(t){this.confirmationService.confirm({message:"Are you sure that you want to delete Quib ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.QuibService.deleteQuib(t).subscribe(i=>{this.toastr.showSuccess(" Quib deleted successfully","Quib delete"),this.AdminQuibList(this.payload)})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.V),e.Y36(p.LA),e.Y36(x.$),e.Y36(h.gz),e.Y36(g.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-quib"]],viewQuery:function(t,i){if(1&t&&e.Gf(w,5),2&t){let o;e.iGM(o=e.CRH())&&(i.dt=o.first)}},features:[e._Bn([g.YP])],decls:11,vars:18,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","scrollHeight","70vh","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped,width:max-content",3,"value","columns","paginator","rows","rowsPerPageOptions","showCurrentPageReport","resizableColumns","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[1,"row"],[1,"p-input-icon-right","ml-5"],[1,"pi","pi-search"],["pInputText","","type","text","id","search-box","placeholder","Search by User or Movies",3,"input"],["pResizableColumn",""],["pResizableColumn","",4,"ngFor","ngForOf"],[1,"btn-grp"],["pButton","","type","button","class","p-button-success","style","height: 30px",4,"ngIf"],["pButton","","type","button","class","p-button-danger","style","height: 30px",4,"ngIf"],["pButton","","type","button","class","p-button-danger","pTooltip","mark as Saved","style","height: 30px",4,"ngIf"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete Quib","tooltipPosition","bottom",1,"p-button-danger",3,"click"],["pButton","","type","button",1,"p-button-success",2,"height","30px"],["pButton","","type","button",1,"p-button-danger",2,"height","30px"],["pButton","","type","button","pTooltip","mark as Saved",1,"p-button-danger",2,"height","30px"],["colspan","12",1,"text-center","text-danger","font-weight-700"]],template:function(t,i){1&t&&(e.TgZ(0,"app-header",0),e.NdJ("toggleSidebar",function(r){return i.onToggleSidebar(r)}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p-table",3,4),e.YNc(5,q,4,0,"ng-template",5),e.YNc(6,U,6,1,"ng-template",6),e.YNc(7,F,26,11,"ng-template",7),e.YNc(8,P,3,0,"ng-template",8),e.qZA(),e._UZ(9,"ngx-ui-loader",9),e.qZA(),e._UZ(10,"p-confirmDialog",10),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngClass",i.sidebarSpacing),e.xp6(2),e.Q6J("value",null==i.Admin_Quib?null:i.Admin_Quib.savedQuibs)("columns",i.cols)("paginator",!0)("rows",10)("rowsPerPageOptions",e.DdM(15,L))("showCurrentPageReport",!0)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(16,J)),e.xp6(6),e.Q6J("fgsColor","#000000")("fgsType",i.fgsType),e.xp6(1),e.Akn(e.DdM(17,O)),e.Q6J("baseZIndex",1e4))},directives:[T.G,d.mk,m.iA,g.jx,Z.o,m.Q7,d.sg,d.O5,v.Hq,Q.u,p.Eo,C.Q],styles:['th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:left!important;font-size:200!important}.p-datatable[_ngcontent-%COMP%]{padding:none!important}.content-header[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.5px;font-size:1.6rem;margin-bottom:.25rem}.text-center[_ngcontent-%COMP%]{margin-left:60%!important}.glyphicon-cog[_ngcontent-%COMP%]:before{content:"\\e019";padding-right:10px}.export[_ngcontent-%COMP%]{margin-left:90%;margin-bottom:.5rem}.btn-grp[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#c6c7cd94}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{position:sticky;top:0;z-index:9}']}),n})();var _=a(5861),c=a(3075),B=a(7673),A=a(4036),S=a(6526),E=a(5315);const H=["QuibTable"];function Y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onReset()}),e._UZ(1,"img",29),e.qZA()}}function W(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onReset()}),e._UZ(1,"img",30),e.qZA()}}function G(n,s){1&n&&(e.TgZ(0,"a"),e._UZ(1,"img",31),e.qZA())}function z(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"h2",18),e._uU(3,"Quibs"),e.qZA(),e.qZA(),e.TgZ(4,"div",17),e._UZ(5,"i",19),e.TgZ(6,"input",20),e.NdJ("input",function(o){return e.CHM(t),e.oxw().FilterGlobal(o,"contains")}),e.qZA(),e.qZA(),e.TgZ(7,"div",17),e.TgZ(8,"form",21),e.TgZ(9,"p-dropdown",22),e.NdJ("onChange",function(){return e.CHM(t),e.oxw().getFilteredUsersOnMovieSelection()}),e.qZA(),e.YNc(10,Y,2,0,"a",23),e.YNc(11,W,2,0,"a",23),e.YNc(12,G,2,0,"a",15),e.TgZ(13,"p-dropdown",24),e.NdJ("onChange",function(){return e.CHM(t),e.oxw().getFilteredMoviesOnUserSelection()}),e.qZA(),e.TgZ(14,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(15," Submit "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",17),e.TgZ(17,"form",21),e._UZ(18,"p-multiSelect",26),e.TgZ(19,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().SelectRequestedColumns()}),e._uU(20," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.movieAndUserSelectionForm),e.xp6(1),e.Q6J("options",t.filteredMovieTitles)("showClear",!0)("filter",!0),e.xp6(1),e.Q6J("ngIf",t.filterDirectionTowardsUser),e.xp6(1),e.Q6J("ngIf",t.filterDirectionTowardsMovie),e.xp6(1),e.Q6J("ngIf",!t.filterDirectionTowardsUser&&!t.filterDirectionTowardsMovie),e.xp6(1),e.Q6J("options",t.filteredUserNames)("showClear",!0)("filter",!0),e.xp6(4),e.Q6J("formGroup",t.columnSelectorForm),e.xp6(1),e.Q6J("options",t.colsOptions)("virtualScroll",!0)}}function j(n,s){if(1&n&&(e.TgZ(0,"th",34),e._uU(1),e._UZ(2,"p-sortIcon",35),e.qZA()),2&n){const t=s.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",t.headers," "),e.xp6(1),e.Q6J("field",t.field)}}function V(n,s){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"th",32),e._uU(2,"S.no"),e.qZA(),e.YNc(3,j,3,3,"th",33),e.TgZ(4,"th"),e._uU(5,"Action"),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",0==t.filteredCols.length?t.cols:t.filteredCols)}}function $(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.displayName)}}function X(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.title)}}function K(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().EditQuib(o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.body," ")}}function ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().EditQuib(o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.getTime(t.time)," ")}}function te(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.createdDate," ")}}function ie(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.postedDate," ")}}function ne(n,s){1&n&&(e.TgZ(0,"button",45),e._uU(1," Enabled "),e.qZA())}function oe(n,s){1&n&&(e.TgZ(0,"button",46),e._uU(1," Disabled "),e.qZA())}function se(n,s){if(1&n&&(e.TgZ(0,"td"),e.TgZ(1,"div",38),e.YNc(2,ne,2,0,"button",43),e.YNc(3,oe,2,0,"button",44),e.qZA(),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",1==t.isEnabled),e.xp6(1),e.Q6J("ngIf",0==t.isEnabled)}}function re(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.fixTo4Decimals(null==t?null:t.averageRating)," ")}}function le(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().getRatingsOfQuibById(null==o?null:o.id)}),e.TgZ(1,"a",47),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t?null:t.numOfRatings)}}function ae(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.numOfRatings," ")}}function ce(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().getBumpUserListByQuibId(null==o?null:o.id)}),e.TgZ(1,"a",47),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t?null:t.bIn)}}function ue(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.bIn," ")}}function de(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().getFlageUserListByQuibId(null==o?null:o.id)}),e.TgZ(1,"a",47),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t?null:t.bIn)}}function pe(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.bIn," ")}}function ge(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().deleteQuib(null==o?null:o.id)}),e._uU(1," Delete "),e.qZA()}}function me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().restoreQuib(null==o?null:o.id)}),e._uU(1," Restore "),e.qZA()}}function _e(n,s){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.YNc(3,$,2,1,"td",15),e.YNc(4,X,2,1,"td",15),e.YNc(5,K,2,1,"td",36),e.YNc(6,ee,2,1,"td",37),e.YNc(7,te,2,1,"td",15),e.YNc(8,ie,2,1,"td",15),e.YNc(9,se,4,2,"td",15),e.YNc(10,re,2,1,"td",15),e.YNc(11,le,3,1,"td",23),e.YNc(12,ae,2,1,"td",15),e.YNc(13,ce,3,1,"td",23),e.YNc(14,ue,2,1,"td",15),e.YNc(15,de,3,1,"td",23),e.YNc(16,pe,2,1,"td",15),e.TgZ(17,"td"),e.TgZ(18,"div",38),e.YNc(19,ge,2,0,"button",39),e.YNc(20,me,2,0,"button",40),e.qZA(),e.qZA(),e.qZA()),2&n){const t=s.rowIndex,i=s.$implicit,o=e.oxw();e.xp6(2),e.Oqu(t+1),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("User")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Movie")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Quib")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Time")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Created")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Posted")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("IsEnabled")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("AVR")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("#RT")&&(null==i?null:i.numOfRatings)>0),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("#RT")&&0==(null==i?null:i.numOfRatings)),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("B-IN")&&(null==i?null:i.bIn)>0),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("B-IN")&&0==(null==i?null:i.bIn)),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("FLAG")&&(null==i?null:i.bIn)>0),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("FLAG")&&0==(null==i?null:i.bIn)),e.xp6(3),e.Q6J("ngIf",!i.isDeleted),e.xp6(1),e.Q6J("ngIf",i.isDeleted)}}function he(n,s){1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",50),e._uU(2," No Records Found. "),e.qZA(),e.qZA())}function be(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",52),e.TgZ(2,"div",56),e.TgZ(3,"div",57),e._UZ(4,"input",66),e.qZA(),e.qZA(),e.TgZ(5,"div",56),e.TgZ(6,"div",57),e.TgZ(7,"div",52),e.TgZ(8,"div",67),e.TgZ(9,"button",68),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw(2).BumpIncreamentAndDecreament(r,l.ccp-1)}),e._UZ(10,"i",69),e.qZA(),e.qZA(),e.TgZ(11,"div",70),e._UZ(12,"input",71),e.qZA(),e.TgZ(13,"div",67),e.TgZ(14,"button",72),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw(2).BumpIncreamentAndDecreament(r,l.ccp+1)}),e._UZ(15,"i",73),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(4),e.s9C("value",t.userName),e.xp6(5),e.Q6J("disabled",null===t.id),e.xp6(3),e.s9C("value",t.ccp),e.xp6(2),e.Q6J("disabled",null===t.id)}}function fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.ynx(1),e.TgZ(2,"div",51),e.TgZ(3,"div",52),e.TgZ(4,"div",53),e.TgZ(5,"div",54),e.TgZ(6,"div",55),e.TgZ(7,"div",52),e.TgZ(8,"div",56),e.TgZ(9,"div",57),e.TgZ(10,"label",58),e._uU(11,"User List"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",56),e.TgZ(13,"div",57),e.TgZ(14,"label",59),e._uU(15,"Current Curator Point "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,be,16,4,"div",60),e.TgZ(17,"div",61),e.TgZ(18,"div",62),e.TgZ(19,"div",63),e.TgZ(20,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw().display=!1}),e._uU(21," Cancel "),e.qZA(),e.TgZ(22,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitBumpUserListdata()}),e._uU(23," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(16),e.Q6J("ngForOf",t.BumpUserList)}}function xe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",52),e.TgZ(2,"div",56),e.TgZ(3,"div",57),e._UZ(4,"input",66),e.qZA(),e.qZA(),e.TgZ(5,"div",56),e.TgZ(6,"div",57),e.TgZ(7,"div",52),e.TgZ(8,"div",67),e.TgZ(9,"button",68),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw(2).FlagIncreamentAndDecreament(r,l.cfp-1)}),e._UZ(10,"i",69),e.qZA(),e.qZA(),e.TgZ(11,"div",70),e._UZ(12,"input",71),e.qZA(),e.TgZ(13,"div",67),e.TgZ(14,"button",72),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,l=o.$implicit;return e.oxw(2).FlagIncreamentAndDecreament(r,l.cfp+1)}),e._UZ(15,"i",73),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(4),e.s9C("value",t.userName),e.xp6(5),e.Q6J("disabled",null==t.id),e.xp6(3),e.s9C("value",t.cfp),e.xp6(2),e.Q6J("disabled",null==t.id)}}function Te(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",51),e.TgZ(2,"div",52),e.TgZ(3,"div",53),e.TgZ(4,"div",54),e.TgZ(5,"div",55),e.TgZ(6,"div",52),e.TgZ(7,"div",56),e.TgZ(8,"div",57),e.TgZ(9,"label",58),e._uU(10,"User List"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",56),e.TgZ(12,"div",57),e.TgZ(13,"label",59),e._uU(14,"Current Flagger Point "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(15,xe,16,4,"div",60),e.TgZ(16,"div",61),e.TgZ(17,"div",62),e.TgZ(18,"div",63),e.TgZ(19,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw().display=!1}),e._uU(20," Cancel "),e.qZA(),e.TgZ(21,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitFlagUserListdata()}),e._uU(22," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.FlagUserList)}}function Ze(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",74),e.TgZ(2,"label",75),e._uU(3,"Edit timer: "),e.qZA(),e.TgZ(4,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw().editTimer(!1)}),e._uU(5,"-"),e.qZA(),e.TgZ(6,"input",77),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().editedTimer=o})("ngModelChange",function(o){return e.CHM(t),e.oxw().onTextChange(o)}),e.qZA(),e.TgZ(7,"button",78),e.NdJ("click",function(){return e.CHM(t),e.oxw().editTimer(!0)}),e._uU(8,"+"),e.qZA(),e.qZA(),e.TgZ(9,"div"),e.TgZ(10,"label",79),e._uU(11,"Edit text:"),e.qZA(),e.TgZ(12,"textarea",80),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().editedText=o})("ngModelChange",function(o){return e.CHM(t),e.oxw().onTextChange(o)}),e.qZA(),e.qZA(),e.TgZ(13,"div",81),e.TgZ(14,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.submitEdit(o.editedText)}),e.qZA(),e.TgZ(15,"button",83),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEditDialog()}),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.editedTimer),e.xp6(6),e.Q6J("ngModel",t.editedText),e.xp6(2),e.Q6J("disabled",!t.isTextChanged)}}function ve(n,s){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"div",52),e.TgZ(2,"div",56),e.TgZ(3,"div",57),e._UZ(4,"input",86),e.qZA(),e.qZA(),e.TgZ(5,"div",56),e.TgZ(6,"div",57),e.TgZ(7,"div",52),e._UZ(8,"div",67),e.TgZ(9,"div",70),e._UZ(10,"input",71),e.qZA(),e._UZ(11,"div",67),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=s.$implicit;e.xp6(4),e.s9C("value",t.userName),e.xp6(6),e.s9C("value",t.rating)}}function Qe(n,s){if(1&n&&(e.TgZ(0,"div"),e.ynx(1),e.TgZ(2,"div",84),e.TgZ(3,"div",52),e.TgZ(4,"div",53),e.TgZ(5,"div",54),e.TgZ(6,"div",55),e.TgZ(7,"div",52),e.TgZ(8,"div",56),e.TgZ(9,"div",57),e.TgZ(10,"label",58),e._uU(11,"User List"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",56),e.TgZ(13,"div",57),e.TgZ(14,"label",85),e._uU(15,"Ratings"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,ve,12,2,"div",60),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(16),e.Q6J("ngForOf",t.userRatingList)}}const Ce=function(){return[20,50,100]},Ae=function(){return["displayName","title","body","time","createdDate","postedDate","averageRating","numOfRatings"]},Se=function(){return{width:"40vw"}},ye=function(){return{width:"36vw",height:"57vh"}};let y=(()=>{class n{constructor(t,i,o,r,l,u){this.ngxLoader=t,this.QuibService=i,this.fb=o,this.CommonService=r,this.confirmationService=l,this.toastr=u,this.display=!1,this.newQuibList=[],this.BIN=!1,this.CCP=0,this.pageNo=100,this.BumpUserList=[],this.FlagUserList=[],this.movieAndUserSelectionForm=new c.cw({}),this.movieTitles=[],this.filteredMovieTitles=[],this.userNames=[],this.filteredUserNames=[],this.filterDirectionTowardsUser=!1,this.filterDirectionTowardsMovie=!1,this.columnSelectorForm=new c.cw({}),this.colsOptions=[],this.selectedColumns=[],this.filteredCols=[],this.multiSelectStyle={width:"12.5rem"},this.filterValue="",this.editDialogueHeaderMessage="",this.displayEditDialog=!1,this.editTextPopup=!1,this.editedText="",this.editedTimer="",this.editedTimerSeconds=0,this.currentQuibIndex=0,this.isTextChanged=!1,this.ratingPopup=!1,this.userRatingList=[],this.displayRatingPopup=!1,this.movieAndUserSelectionForm=this.fb.group({selectedMovie:new c.NI(""),selectedUser:new c.NI("")}),this.columnSelectorForm=this.fb.group({selectedColumns:new c.NI([])})}ngOnInit(){this.sidebarSpacing="expanded",this.fgsType=p.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="expanded",this.QuibService.QuibSearchWord.subscribe(t=>{this.QuibSearchWord=t}),this.fetchOnLoad(),this.cols=[{field:"displayName",show:!0,headers:"User"},{field:"title",show:!0,headers:"Movie"},{field:"body",show:!0,headers:"Quib"},{field:"time",show:!0,headers:"Time"},{field:"createdDate",show:!0,headers:"Created"},{field:"postedDate",show:!0,headers:"Posted"},{field:"isEnabled",show:!0,headers:"IsEnabled"},{field:"averageRating",show:!0,headers:"AVR"},{field:"numOfRatings",show:!0,headers:"#RT"},{field:"bIn",show:!0,headers:"B-IN"},{field:"bIn",show:!0,headers:"FLAG"}],this.colsOptions=this.cols.map(t=>({label:t.headers,value:t.field}))}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}applyFilterGlobal(t,i){switch(t.target.id){case"displayName":this.QuibSearchWord.displayName=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i);break;case"title":this.QuibSearchWord.title=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i);break;case"body":this.QuibSearchWord.body=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i);break;case"createdDate":this.QuibSearchWord.createdDate=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i);break;case"postedDate":this.QuibSearchWord.postedDate=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i);break;case"time":this.QuibSearchWord.time=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i);break;case"averageRating":this.QuibSearchWord.averageRating=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i);break;case"numOfRatings":this.QuibSearchWord.numOfRatings=t.target.value,this.QuibTable.filter(t.target.value,t.target.id,i)}}myResetFunction(t){t.reset(),this.filterValue=""}SelectRequestedColumns(){this.selectedColumns=this.columnSelectorForm.controls.selectedColumns.value,this.filteredCols=this.cols.filter(t=>this.selectedColumns.some(i=>i.value===t.field)).map(t=>({headers:t.headers}))}shouldDisplayColumn(t){return 0===this.filteredCols.length||this.filteredCols.some(i=>i.headers===t)}fetchOnLoad(){this.getMovieList(),this.getUserList()}fixTo4Decimals(t){return Math.round(100*t)/100}onSubmit(){var t=this;return(0,_.Z)(function*(){if(t.selectedMovie=t.movieAndUserSelectionForm.get("selectedMovie"),t.selectedUser=t.movieAndUserSelectionForm.get("selectedUser"),null!=t.selectedMovie&&""!=t.selectedMovie.value||null!=t.selectedUser&&""!=t.selectedUser.value)if(null==t.selectedMovie||""==t.selectedMovie.value){const i=t.selectedUser.value;(yield t.QuibService.getAllFilteredMovies(i)).subscribe(o=>{t.filteredMovieTitles=o}),yield t.getFilteredQuibList(i,null)}else if(null==t.selectedUser||""==t.selectedUser.value){const i=t.selectedMovie.value;(yield t.QuibService.getAllFilteredUsers(i)).subscribe(o=>{t.filteredUserNames=o}),yield t.getFilteredQuibList(null,i)}else{const i=t.selectedMovie.value,o=t.selectedUser.value;yield t.getFilteredQuibList(o,i)}else t.toastr.showWarning("Please select either a Movie or a User","Select")})()}onReset(){this.movieAndUserSelectionForm.reset(),this.movieAndUserSelectionForm.get("selectedMovie").setValue(""),this.movieAndUserSelectionForm.get("selectedUser").setValue(""),this.filteredMovieTitles=this.movieTitles,this.filteredUserNames=this.userNames,this.quibLIst=null,this.selectedMovie=null,this.selectedUser=null,this.filterDirectionTowardsMovie=!1,this.filterDirectionTowardsUser=!1}getMovieList(){this.QuibService.getAllMoviesAdminPanel().subscribe(t=>{this.movieTitles=t,this.filteredMovieTitles=this.movieTitles})}getUserList(){this.QuibService.getAllUsersAdminPanel().subscribe(t=>{this.userNames=t,this.filteredUserNames=this.userNames}),this.ngxLoader.stop()}filterMovieTitles(t){const i=t.target.value.toLowerCase();this.filteredMovieTitles=this.filteredMovieTitles.filter(o=>{o.title.toLowerCase.includes(i)})}getFilteredUsersOnMovieSelection(){var t=this;return(0,_.Z)(function*(){if(t.movieAndUserSelectionForm.updateValueAndValidity(),t.selectedMovie=t.movieAndUserSelectionForm.controls.selectedMovie,null==t.selectedMovie.value||"null"===t.selectedMovie.value)t.selectedMovie.setValue(""),t.selectedMovie=null;else if(!t.filterDirectionTowardsUser&&!t.filterDirectionTowardsMovie&&(t.filterDirectionTowardsUser=!0),t.filterDirectionTowardsUser&&!t.filterDirectionTowardsMovie){const i=t.selectedMovie.value;(yield t.QuibService.getAllFilteredUsers(i)).subscribe(o=>{t.filteredUserNames=o}),t.selectedUser.setValue("")}else!t.filterDirectionTowardsMovie&&!t.filterDirectionTowardsUser&&t.toastr.showWarning("Please reset and start filtering again","reset")})()}getFilteredMoviesOnUserSelection(){var t=this;return(0,_.Z)(function*(){if(t.selectedUser=t.movieAndUserSelectionForm.get("selectedUser"),null==t.selectedUser.value||"null"===t.selectedUser.value)t.selectedUser.setValue(""),t.selectedUser=null;else if(!t.filterDirectionTowardsMovie&&!t.filterDirectionTowardsUser&&(t.filterDirectionTowardsMovie=!0),t.filterDirectionTowardsMovie&&!t.filterDirectionTowardsUser){const i=t.selectedUser.value;(yield t.QuibService.getAllFilteredMovies(i)).subscribe(o=>{t.filteredMovieTitles=o}),t.selectedMovie.setValue("")}else!t.filterDirectionTowardsMovie&&!t.filterDirectionTowardsUser&&t.toastr.showWarning("Please reset and start filtering again","Reset")})()}getTime(t){const i=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;return`${this.padZero(i)}:${this.padZero(o)}:${this.padZero(r)}`}padZero(t){return t<10?`0${t}`:`${t}`}EditQuib(t){this.editedText=t.body,this.editedTimerSeconds=t.time,this.editedTimer=this.getTime(this.editedTimerSeconds),this.displayEditDialog=!0,this.editTextPopup=!0,this.currentQuibIndex=this.quibLIst.savedQuibs.indexOf(t),this.editDialogueHeaderMessage="Edit Quib"}submitEdit(t){var i=this;return(0,_.Z)(function*(){const o=i.quibLIst.savedQuibs[i.currentQuibIndex],r=i.convertTimeToSeconds(i.editedTimer),l=new FormData;l.append("Id",o.id),l.append("Body",t),l.append("Time",`${r}`),l.append("IsEnabled",o.isEnabled),l.append("IsPosted",o.isPosted),(yield i.QuibService.editDialogue(l)).subscribe({next:u=>{i.onSubmit()},error:u=>{console.log(u)},complete:()=>{}}),i.closeEditDialog()})()}closeEditDialog(){this.isTextChanged=!1,this.displayEditDialog=!1}editTimer(t){this.isTextChanged=!0,t?(this.editedTimerSeconds+=1,this.editedTimer=this.getTime(this.editedTimerSeconds)):this.editedTimerSeconds>0&&(this.editedTimerSeconds-=1,this.editedTimer=this.getTime(this.editedTimerSeconds))}onTextChange(t){this.isTextChanged=""!==t}convertTimeToSeconds(t){const[i,o,r]=t.split(":").map(Number);return 3600*i+60*o+r}getFilteredQuibList(t,i){var o=this;return(0,_.Z)(function*(){o.ngxLoader.start(),(yield o.QuibService.getFilteredQuibs(t,i)).subscribe(r=>{o.quibLIst=r,o.totalRecords=r.quibTotalPages,o.quibLIst.savedQuibs.map(l=>{l.createdDate=o.CommonService.convertDate(l.createdDate),l.postedDate=l.postedDate?o.CommonService.convertDate(l.postedDate):"00:00:00",l.MM=o.CommonService.consverIntoHHMMSS(l.time).MM,l.HH=o.CommonService.consverIntoHHMMSS(l.time).HH,l.SS=o.CommonService.consverIntoHHMMSS(l.time).SS}),o.ngxLoader.stop(),o.loading=!1})})()}getQuibList(){this.QuibService.getQuibList(this.pageNo).subscribe(t=>{this.quibLIst=t,this.totalRecords=t.quibTotalPages,this.quibLIst.savedQuibs.map(i=>{i.createdDate=this.CommonService.convertDate(i.createdDate),i.postedDate=this.CommonService.convertDate(i.postedDate),i.MM=this.CommonService.consverIntoHHMMSS(i.time).MM,i.HH=this.CommonService.consverIntoHHMMSS(i.time).HH,i.SS=this.CommonService.consverIntoHHMMSS(i.time).SS}),this.ngxLoader.stop(),this.loading=!1})}deleteQuib(t){this.confirmationService.confirm({message:"Are you sure that you want to delete Quib ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.QuibService.deleteQuib(t).subscribe({next:i=>{this.toastr.showSuccess(" Quib deleted successfully","Quib delete"),this.onSubmit()},error:i=>{this.toastr.showError("Error deleting the Quib","Quib delete"),this.onSubmit()}})}})}restoreQuib(t){this.confirmationService.confirm({message:"Are you sure that you want to restore Quib ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.QuibService.restoreQuib(t).subscribe({next:i=>{this.toastr.showSuccess("Quib restored successfully","Quib restore"),this.onSubmit()},error:i=>{this.toastr.showError("Error restoring the Quib","Quib restore"),this.onSubmit()}})}})}IsEnabled(t,i){this.ngxLoader.start(),this.QuibService.IsEnabled(t,i).subscribe(o=>{o&&(this.toastr.showSuccess(" Status change successfully","Status change"),this.getQuibList())})}IsBumped(t,i){this.ngxLoader.start(),this.QuibService.IsBumped(t,i).subscribe(o=>{o&&(this.toastr.showSuccess(" Status change successfully","Status change"),this.getQuibList())})}FlagIncreamentAndDecreament(t,i){1<=i&&i<=5&&(this.FlagUserList[t].cfp=i)}BumpIncreamentAndDecreament(t,i){1<=i&&i<=5&&(this.BumpUserList[t].ccp=i)}submitBumpUserListdata(){let t=this.BumpUserList.map(i=>({id:i.id,ccp:i.ccp}));this.ngxLoader.start(),this.QuibService.submitBumpUserListdata(t).subscribe({next:i=>{this.display=!1,this.BIN=!1,this.toastr.showSuccess("Current Curator Point is  changed successfully","Curator Point"),this.onSubmit()},error:i=>{this.display=!1,this.BIN=!1,this.toastr.showError("Something is Wrong,Please check ","Curator  Score"),this.getQuibList()}})}submitFlagUserListdata(){let t=this.FlagUserList.map(i=>({id:i.id,cfp:i.cfp}));this.ngxLoader.start(),this.QuibService.submitFlagUserListdata(t).subscribe({next:i=>{this.display=!1,this.BIN=!1,this.toastr.showSuccess("Current Flag Score is successfully changed","Flag Score"),this.onSubmit()},error:i=>{this.display=!1,this.BIN=!1,this.toastr.showError("Something is Wrong,Please check ","Flag  Score"),this.getQuibList()}})}getBumpUserListByQuibId(t){this.headerMessage="Bumped User List",this.QuibService.getBumpUserListByQuibId(t).subscribe({next:i=>{this.BumpUserList=i,this.display=!0,this.BIN=!0,this.ratingPopup=!1,0===this.BumpUserList.length?(this.styleValue.height="20vh",this.styleValue.width="55vw"):(this.styleValue.height="90vh",this.styleValue.width="55vw")},error:i=>{this.toastr.showError("Something is Wrong,Please check ","Bumped user list")},complete:()=>{}})}getFlageUserListByQuibId(t){this.headerMessage="Flagged User List",this.QuibService.getFlageUserListByQuibId(t).subscribe({next:i=>{this.FlagUserList=i,this.display=!0,this.BIN=!1,0===this.FlagUserList.length?(this.styleValue.height="20vh",this.styleValue.width="55vw"):(this.styleValue.height="90vh",this.styleValue.width="55vw"),this.ngxLoader.stop()},error:i=>{this.ngxLoader.stop(),this.toastr.showError("Something is Wrong,Please check ","Flagged user list")}})}getRatingsOfQuibById(t){this.headerMessage="Users who rated",this.QuibService.getRatingsOfQuibById(t).subscribe({next:i=>{this.userRatingList=i,this.ratingPopup=!0,this.displayRatingPopup=!0,this.BIN=!1},error:i=>{this.toastr.showError("Something is Wrong, Please check","Users who rated")},complete:()=>{}})}FilterGlobal(t,i){this.QuibSearchWord.Gseacrh=t.target.value,this.QuibTable.filterGlobal(t.target.value,i)}ngOnDestroy(){this.QuibService.QuibSearchWord.next(this.QuibSearchWord),this.CommonService.setQuibSearchWord(this.QuibSearchWord)}QuibSearch(){null!=this.QuibSearchWord.Gseacrh&&this.QuibSearchWord.Gseacrh.trim().length>0&&this.QuibTable.filterGlobal(this.QuibSearchWord.Gseacrh,"contains"),null!=this.QuibSearchWord.displayName&&this.QuibSearchWord.displayName.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.displayName,"displayName","contains"),null!=this.QuibSearchWord.title&&this.QuibSearchWord.title.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.title,"title","contains"),null!=this.QuibSearchWord.body&&this.QuibSearchWord.body.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.body,"body","contains"),null!=this.QuibSearchWord.createdDate&&this.QuibSearchWord.createdDate.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.createdDate,"createdDate","contains"),null!=this.QuibSearchWord.postedDate&&this.QuibSearchWord.postedDate.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.postedDate,"postedDate","contains"),null!=this.QuibSearchWord.averageRating&&this.QuibSearchWord.averageRating.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.averageRating,"averageRating","contains"),null!=this.QuibSearchWord.time&&this.QuibSearchWord.time.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.time,"time","contains"),null!=this.QuibSearchWord.numOfRatings&&this.QuibSearchWord.numOfRatings.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.numOfRatings,"numOfRatings","contains")}loadNextQuibsdata(t){this.loading=!0,this.pageNo=(t.first+t.rows)/20,this.QuibService.getQuibList(this.pageNo).subscribe(i=>{this.quibLIst=i,this.totalRecords=i.quibTotalPages,this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.LA),e.Y36(f.V),e.Y36(c.qu),e.Y36(B.v),e.Y36(g.YP),e.Y36(x.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recent-quib"]],viewQuery:function(t,i){if(1&t&&e.Gf(H,5),2&t){let o;e.iGM(o=e.CRH())&&(i.QuibTable=o.first)}},inputs:{movieTitles:"movieTitles",filteredMovieTitles:"filteredMovieTitles",userNames:"userNames",filteredUserNames:"filteredUserNames"},features:[e._Bn([g.YP])],decls:19,vars:43,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","columnResizeMode","expand","scrollHeight","70vh","stateStorage","session","stateKey","Quib-session","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped,width:max-content table-max-width",3,"value","columns","paginator","rows","rowsPerPageOptions","showCurrentPageReport","resizableColumns","totalRecords","responsive","globalFilterFields"],["QuibTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["position","top",3,"visible","modal","header","baseZIndex","visibleChange"],[4,"ngIf","ngIfElse"],["flage",""],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[3,"header","visible","modal","closable","responsive","visibleChange"],[4,"ngIf"],[1,"row"],[1,"p-input-icon-right","ml-5"],[2,"font-family","'Times New Roman', Times, serif"],[1,"pi","pi-search"],["pInputText","","type","text","id","search-box","placeholder","Search",2,"width","11rem",3,"input"],[3,"formGroup"],["formControlName","selectedMovie","optionLabel","title","optionValue","movieId","filterBy","title","placeholder","Select a Movie",3,"options","showClear","filter","onChange"],[3,"click",4,"ngIf"],["formControlName","selectedUser","optionLabel","displayName","optionValue","userId","filterBy","displayName","placeholder","Select a User",2,"margin-left","3px",3,"options","showClear","filter","onChange"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success",2,"height","1.89rem","margin-left","3px","margin-bottom","4.7px",3,"click"],["optionLabel","label","formControlName","selectedColumns","display","chip","defaultLabel","Select Columns to display",3,"options","virtualScroll"],["pButton","","type","button","id","submit","name","submit",1,"p-button-primary",2,"margin-left","8px","margin-bottom","5.8px","height","30px",3,"click"],[3,"click"],["src","../../../assets/images/reset-right3.png","alt","Arrow right",2,"cursor","pointer","height","25px","width","50px","margin-right","6.5px","margin-left","10px","margin-bottom","6.8px"],["src","../../../assets/images/reset-left3.png","alt","Arrow right",2,"cursor","pointer","height","24px","width","50px","margin-right","6.5px","margin-left","10px","margin-bottom","6.8px"],["src","../../../assets/images/block.png","alt","",2,"height","25px","width","50px","margin-right","6.5px","margin-left","10px","margin-bottom","6.8px"],["pResizableColumn",""],["pResizableColumn","","class","max-width-cell",3,"pSortableColumn",4,"ngFor","ngForOf"],["pResizableColumn","",1,"max-width-cell",3,"pSortableColumn"],[3,"field"],["class","max-width-cell","style","cursor: pointer",3,"click",4,"ngIf"],["style","cursor: pointer",3,"click",4,"ngIf"],[1,"btn-grp"],["class","p-button-success","pButton","","type","button","pTooltip","Delete Quib","tooltipPosition","bottom",3,"click",4,"ngIf"],["class","p-button-danger","pButton","","type","button","pTooltip","Restore Quib","tooltipPosition","bottom",3,"click",4,"ngIf"],[1,"max-width-cell",2,"cursor","pointer",3,"click"],[2,"cursor","pointer",3,"click"],["pButton","","type","button","class","p-button-success","style","height: 30px",4,"ngIf"],["pButton","","type","button","class","p-button-danger","style","height: 30px",4,"ngIf"],["pButton","","type","button",1,"p-button-success",2,"height","30px"],["pButton","","type","button",1,"p-button-danger",2,"height","30px"],[2,"color","blue","cursor","pointer"],["pButton","","type","button","pTooltip","Delete Quib","tooltipPosition","bottom",1,"p-button-success",3,"click"],["pButton","","type","button","pTooltip","Restore Quib","tooltipPosition","bottom",1,"p-button-danger",3,"click"],["colspan","12",1,"text-center","text-danger","font-weight-700"],[1,"card","col-sm-12",2,"height","70vh"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"h-100","mt-2"],[1,"card-body"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","name"],["for","image"],[4,"ngFor","ngForOf"],[1,"row","gutters","mt-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","mt-4"],[1,"text-right"],["pButton","","type","button","id","submit","name","submit",1,"p-button-danger","mr-4",3,"click"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success",3,"click"],["type","text","readonly","",1,"form-control",2,"height","calc(0.9em + 0.75rem + 2px)",3,"value"],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-2","col-2"],["pButton","","type","button",1,"p-button-danger",3,"disabled","click"],[1,"pi","pi-minus-circle",2,"font-size","1rem"],[1,"col-xl-8","col-lg-8","col-md-8","col-sm-8","col-8"],["type","text","readonly","",1,"form-control",2,"margin-left","15px","height","calc(0.9em + 0.75rem + 2px)",3,"value"],["pButton","","type","button",1,"p-button-success",3,"disabled","click"],[1,"pi","pi-plus-circle",2,"font-size","1rem"],[1,"timer-adjuster"],["for","editTimer",2,"margin-right","8px"],[1,"minus",3,"click"],["type","text",1,"timer-input",3,"ngModel","ngModelChange"],[1,"plus",3,"click"],["for","editTextArea"],["id","editTextArea",3,"ngModel","ngModelChange"],[1,"dialog-buttons"],["pButton","","type","button","label","Submit",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"custom-cancel-button",3,"click"],[1,"card","col-sm-12",2,"height","60vh"],["for","image",2,"margin-left","61px"],["type","text","readonly","",1,"form-control",2,"height","calc(0.9em + 0.75rem + 2px)","margin-left","-3px",3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-header",0),e.NdJ("toggleSidebar",function(r){return i.onToggleSidebar(r)}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p-table",3,4),e.YNc(5,z,21,13,"ng-template",5),e.YNc(6,V,6,1,"ng-template",6),e.YNc(7,_e,21,17,"ng-template",7),e.YNc(8,he,3,0,"ng-template",8),e.qZA(),e._UZ(9,"ngx-ui-loader",9),e.qZA(),e.TgZ(10,"p-dialog",10),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(11,fe,24,1,"div",11),e.YNc(12,Te,23,1,"ng-template",null,12,e.W1O),e.qZA(),e._UZ(14,"p-confirmDialog",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(r){return i.displayEditDialog=r}),e.YNc(16,Ze,16,3,"ng-container",15),e.qZA(),e.TgZ(17,"p-dialog",10),e.NdJ("visibleChange",function(r){return i.displayRatingPopup=r}),e.YNc(18,Qe,17,1,"div",15),e.qZA()),2&t){const o=e.MAs(13);e.xp6(1),e.Q6J("ngClass",i.sidebarSpacing),e.xp6(2),e.Q6J("value",null==i.quibLIst?null:i.quibLIst.savedQuibs)("columns",i.cols)("paginator",!0)("rows",100)("rowsPerPageOptions",e.DdM(39,Ce))("showCurrentPageReport",!0)("resizableColumns",!0)("totalRecords",i.totalRecords)("responsive",!0)("globalFilterFields",e.DdM(40,Ae)),e.xp6(6),e.Q6J("fgsColor","#000000")("fgsType",i.fgsType),e.xp6(1),e.Akn(i.styleValue),e.Q6J("visible",i.display)("modal",!0)("header",i.headerMessage)("baseZIndex",1e4),e.xp6(1),e.Q6J("ngIf",i.BIN)("ngIfElse",o),e.xp6(3),e.Akn(e.DdM(41,Se)),e.Q6J("baseZIndex",1e4),e.xp6(1),e.Akn(e.DdM(42,ye)),e.Q6J("header",i.editDialogueHeaderMessage)("visible",i.displayEditDialog)("modal",!0)("closable",!0)("responsive",!0),e.xp6(1),e.Q6J("ngIf",i.editTextPopup),e.xp6(1),e.Akn(i.styleValue),e.Q6J("visible",i.displayRatingPopup)("modal",!0)("header",i.headerMessage)("baseZIndex",1e4),e.xp6(1),e.Q6J("ngIf",i.ratingPopup)}},directives:[T.G,d.mk,m.iA,g.jx,Z.o,c._Y,c.JL,c.sg,A.Lt,c.JJ,c.u,d.O5,v.Hq,S.NU,m.Q7,d.sg,m.lQ,m.fz,Q.u,p.Eo,E.V,C.Q,c.Fj,c.On],styles:['.btn-grp[_ngcontent-%COMP%]{display:flex}th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:left!important;font-size:200!important}.p-datatable[_ngcontent-%COMP%]{padding:none!important}.content-header[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.5px;font-size:1.6rem;margin-bottom:.25rem}.text-center[_ngcontent-%COMP%]{margin-left:60%!important}.glyphicon-cog[_ngcontent-%COMP%]:before{content:"\\e019";padding-right:10px}.export[_ngcontent-%COMP%]{margin-left:90%;margin-bottom:.5rem}.btn-grp[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]     .p-dropdown{min-width:12rem;max-width:12rem;height:auto}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#9b9b9b}[_nghost-%COMP%]     .p-menuitem-link-active{background-color:#900!important;color:#fff}[_nghost-%COMP%]     .p-multiselect{min-width:15rem;max-width:15rem;height:auto}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{position:sticky;top:0;z-index:9}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th, [_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{max-width:500px!important;overflow:hidden;width:100%!important;white-space:nowrap;text-overflow:ellipsis}.timer-adjuster[_ngcontent-%COMP%]{display:inline-block;position:relative}.timer-input[_ngcontent-%COMP%]{width:100px;text-align:center;height:34px;font-size:24px;border:1px solid #ddd;border-radius:4px;display:inline-block;vertical-align:middle}.minus[_ngcontent-%COMP%], .plus[_ngcontent-%COMP%]{width:25px;height:25px;background:#f2f2f2;border-radius:4px;border:1px solid #ddd;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.minus[_ngcontent-%COMP%]{margin-right:5px}.plus[_ngcontent-%COMP%]{margin-left:5px}textarea[_ngcontent-%COMP%]{width:100%;height:28vh;border-radius:5px;border-color:#babac0}.dialog-buttons[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin:10px}button[_ngcontent-%COMP%]{margin-right:8px;height:27px}.custom-cancel-button[_ngcontent-%COMP%]{background-color:silver;color:#000;border:none}.custom-cancel-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#9a9999;color:#000}.dialogue-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;height:100%;min-height:200px;position:relative;cursor:pointer;transition:background-color .3s;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.dialogue-content-container[_ngcontent-%COMP%]:hover{background-color:#abaaaa}.dialogue-body[_ngcontent-%COMP%], .custom-dialogue-body[_ngcontent-%COMP%]{flex:1}']}),n})();const we=[{path:"",component:y},{path:"recent-quib",component:y},{path:"admin-quib",component:k}];let qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.Bz.forChild(we)],h.Bz]}),n})();var Me=a(5366);let Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,qe,Me.m,c.u5,c.UX,S.q4,A.kW]]}),n})()}}]);